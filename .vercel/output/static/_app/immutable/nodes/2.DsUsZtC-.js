import{r as W,s as G,n as B}from"../chunks/scheduler.BvLojk_z.js";import{a as T,t as z,S as J,i as K,e as C,b as A,s as P,c as E,d as M,f as I,g as x,h as V,o as Q,j as N,k as _,y as X,l as D,z as H,n as Y,m as O,u as Z,v as ee,w as te,x as ne,q as se}from"../chunks/index.DXL13Q8W.js";import{g as le}from"../chunks/entry.CeSdpgoA.js";function R(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ae(s,e){T(s,1,1,()=>{e.delete(s.key)})}function oe(s,e,a,o,r,n,u,p,g,v,c,w){let f=s.length,h=n.length,m=f;const l={};for(;m--;)l[s[m].key]=m;const t=[],i=new Map,k=new Map,S=[];for(m=h;m--;){const d=w(r,n,m),$=a(d);let y=u.get($);y?o&&S.push(()=>y.p(d,e)):(y=v($,d),y.c()),i.set($,t[m]=y),$ in l&&k.set($,Math.abs(m-l[$]))}const L=new Set,j=new Set;function q(d){z(d,1),d.m(p,c),u.set(d.key,d),c=d.first,h--}for(;f&&h;){const d=t[h-1],$=s[f-1],y=d.key,b=$.key;d===$?(c=d.first,f--,h--):i.has(b)?!u.has(y)||L.has(y)?q(d):j.has(b)?f--:k.get(y)>k.get(b)?(j.add(y),q(d)):(L.add(b),f--):(g($,u),f--)}for(;f--;){const d=s[f];i.has(d.key)||g(d,u)}for(;h;)q(t[h-1]);return W(S),t}function ie(s){let e,a,o,r=s[0].users.name+"",n,u,p,g=s[0].text+"",v,c,w,f=s[0].create_time.toLocaleString()+"",h,m,l;return{c(){e=C("div"),a=C("small"),o=A("@"),n=A(r),u=P(),p=C("p"),v=A(g),c=P(),w=C("small"),h=A(f),this.h()},l(t){e=E(t,"DIV",{class:!0});var i=M(e);a=E(i,"SMALL",{});var k=M(a);o=I(k,"@"),n=I(k,r),k.forEach(x),u=V(i),p=E(i,"P",{});var S=M(p);v=I(S,g),S.forEach(x),c=V(i),w=E(i,"SMALL",{});var L=M(w);h=I(L,f),L.forEach(x),i.forEach(x),this.h()},h(){Q(e,"class","post svelte-he7upq")},m(t,i){N(t,e,i),_(e,a),_(a,o),_(a,n),_(e,u),_(e,p),_(p,v),_(e,c),_(e,w),_(w,h),m||(l=X(e,"click",s[1]),m=!0)},p(t,[i]){i&1&&r!==(r=t[0].users.name+"")&&D(n,r),i&1&&g!==(g=t[0].text+"")&&D(v,g),i&1&&f!==(f=t[0].create_time.toLocaleString()+"")&&D(h,f)},i:B,o:B,d(t){t&&x(e),m=!1,l()}}}function ce(s,e,a){let{post:o}=e;const r=()=>le(`/p/${o.id}`);return s.$$set=n=>{"post"in n&&a(0,o=n.post)},[o,r]}class re extends J{constructor(e){super(),K(this,e,ce,ie,G,{post:0})}}function U(s,e,a){const o=s.slice();return o[1]=e[a],o}function F(s,e){let a,o,r;return o=new re({props:{post:e[1]}}),{key:s,first:null,c(){a=O(),Z(o.$$.fragment),this.h()},l(n){a=O(),ee(o.$$.fragment,n),this.h()},h(){this.first=a},m(n,u){N(n,a,u),te(o,n,u),r=!0},p(n,u){e=n;const p={};u&1&&(p.post=e[1]),o.$set(p)},i(n){r||(z(o.$$.fragment,n),r=!0)},o(n){T(o.$$.fragment,n),r=!1},d(n){n&&x(a),ne(o,n)}}}function fe(s){let e,a,o="The Void",r,n,u="Refresh Page",p,g,v,c=[],w=new Map,f,h=R(s[0].feed);const m=l=>l[1].id;for(let l=0;l<h.length;l+=1){let t=U(s,h,l),i=m(t);w.set(i,c[l]=F(i,t))}return{c(){e=C("div"),a=C("h1"),a.textContent=o,r=P(),n=C("button"),n.textContent=u,p=P(),g=C("main"),v=C("div");for(let l=0;l<c.length;l+=1)c[l].c();this.h()},l(l){e=E(l,"DIV",{});var t=M(e);a=E(t,"H1",{"data-svelte-h":!0}),H(a)!=="svelte-1673gmf"&&(a.textContent=o),r=V(t),n=E(t,"BUTTON",{onclick:!0,"data-svelte-h":!0}),H(n)!=="svelte-u4u4zh"&&(n.textContent=u),p=V(t),g=E(t,"MAIN",{});var i=M(g);v=E(i,"DIV",{});var k=M(v);for(let S=0;S<c.length;S+=1)c[S].l(k);k.forEach(x),i.forEach(x),t.forEach(x),this.h()},h(){Q(n,"onclick","window.location.href=window.location.href")},m(l,t){N(l,e,t),_(e,a),_(e,r),_(e,n),_(e,p),_(e,g),_(g,v);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(v,null);f=!0},p(l,[t]){t&1&&(h=R(l[0].feed),se(),c=oe(c,t,m,1,l,h,w,v,ae,F,null,U),Y())},i(l){if(!f){for(let t=0;t<h.length;t+=1)z(c[t]);f=!0}},o(l){for(let t=0;t<c.length;t+=1)T(c[t]);f=!1},d(l){l&&x(e);for(let t=0;t<c.length;t+=1)c[t].d()}}}function he(s,e,a){let{data:o}=e;return s.$$set=r=>{"data"in r&&a(0,o=r.data)},[o]}class _e extends J{constructor(e){super(),K(this,e,he,fe,G,{data:0})}}export{_e as component};
